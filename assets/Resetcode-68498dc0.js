import{_ as S,ao as q,u as K,au as R,an as C,r as b,a as v,b as u,c as m,F as c,d as t,t as a,ab as l,w as f,ax as y,p as B,j as M,cl as P,cq as H,ap as N,aq as U}from"./index-550fe8a6.js";import{a as j,E as x}from"./el-form-item-a34d925b.js";import"./castArray-42bc9754.js";import"./_initCloneObject-b521214e.js";const z=n=>(B("data-v-a05bd910"),n=n(),M(),n),A=z(()=>t("div",{class:"logo"},[t("img",{src:P,alt:""})],-1)),D={class:"restext"},L={class:"greet"},Z={class:"center"},G={style:{color:"#ffffff"},href:"/auth/signup"},J={__name:"Resetcode",setup(n){q();const V=K(),_=R(),{t:i,locale:O}=C(),w=b(0),s=v({username:"",password:""}),$=(e,o,r)=>{o!==s.password?r(new Error(i("reset.confirmpwVerify1"))):r()},k=v({password:[{required:!0,message:i("reset.passwordVerify1"),trigger:"blur"},{pattern:/^.{6,}$/,message:i("reset.passwordVerify2"),trigger:"blur"},{pattern:/^([A-Za-z\d]|[`\-=[\]\\;,./~!@#$%^&*()_+{}|:"<>?])+$/,message:"请输入英文字母、数字或英文符号",trigger:"blur"}],confirmpw:[{required:!0,message:i("reset.passwordVerify1"),trigger:"blur"},{validator:$,trigger:"blur"}]}),g=b(),p=()=>{g.value.validate(e=>{e&&E()})},E=()=>{H({new_password1:s.password,new_password2:s.confirmpw,token:_.params.token,uid:_.params.uid}).then(e=>{w.value=1,N.success(e.detail)})},F=()=>{V.push("/auth/login")};return(e,o)=>{const r=U,h=x,I=j;return u(),m(c,null,[A,w.value===1?(u(),m(c,{key:0},[t("div",D,a(e.$t("reset.restext")),1),t("div",{class:"auth-submit-btn",onClick:F},a(e.$t("reset.login")),1)],64)):(u(),m(c,{key:1},[t("div",L,a(e.$t("greeting")),1),l(I,{ref_key:"inputForm",ref:g,model:s,rules:k,class:"auth-form","label-position":"top","validate-on-rule-change":!1,"require-asterisk-position":"right"},{default:f(()=>[l(h,{label:e.$t("reset.setpw"),prop:"password"},{default:f(()=>[l(r,{class:"input-item",type:"password",modelValue:s.password,"onUpdate:modelValue":o[0]||(o[0]=d=>s.password=d),modelModifiers:{trim:!0},placeholder:e.$t("reset.passwordPH"),onKeypress:y(p,["enter"]),maxlength:"128","show-password":""},null,8,["modelValue","placeholder","onKeypress"])]),_:1},8,["label"]),l(h,{label:e.$t("reset.confirmpw"),prop:"confirmpw"},{default:f(()=>[l(r,{class:"input-item",type:"password",modelValue:s.confirmpw,"onUpdate:modelValue":o[1]||(o[1]=d=>s.confirmpw=d),modelModifiers:{trim:!0},placeholder:e.$t("reset.confirmpwPH"),onKeypress:y(p,["enter"]),maxlength:"128","show-password":""},null,8,["modelValue","placeholder","onKeypress"])]),_:1},8,["label"]),t("div",{class:"auth-submit-btn",onClick:p},a(e.$t("reset.submit")),1)]),_:1},8,["model","rules"]),t("div",Z,[t("a",G,a(e.$t("reset.goSingup")),1)])],64))],64)}}},Y=S(J,[["__scopeId","data-v-a05bd910"]]);export{Y as default};
